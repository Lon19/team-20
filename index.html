<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8' />
        <title>Youth Unemployment Visualisation | Movement 2 Work</title>
        <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="icon" href="icon.png" sizes="32x32">
        <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.5.0/mapbox-gl.js'></script>
        <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.5.0/mapbox-gl.css' rel='stylesheet' />

<link rel="stylesheet" href="style.css">
    </head>
    <body>
        <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.min.js'></script>
        <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.4.2/mapbox-gl-geocoder.css' type='text/css' />
        <!-- Promise polyfill script required to use Mapbox GL Geocoder in IE 11 -->
        <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>

        <nav class="navbar navbar-light fixed-top bg-light" id="smolOne">
          <div>
          <img src="https://www.movementtowork.com/wp-content/uploads/2018/08/MTW_Logo.png" width="200" margin-left="0px">

          <div class="container" id="colourStrip">
            <div class="row">
              <div class="pinkBar"></div>
              <div class="burgandyBar"></div>
              <div class="greenBar"></div>
            </div>
          </div>


        </nav>


        <nav class="navbar navbar-light fixed-top bg-light" id="bigOne">
          <div class="container">
            <div class="row">
                <div class="col-sm">
                    <div class="container">
                        <img src="https://www.movementtowork.com/wp-content/uploads/2018/08/MTW_Logo.png" width="200" margin-left="0px">
                        <div class="overlay">
                            <a href="https://www.movementtowork.com/">
                                <img class="text" style="transform: scaleX(-1);" width="100px" height="100px" src="arrow-icon.png"><a href="movement2work.com"></a>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-sm"></div>
                <div class="col-sm">
                    <div id='geocoder' class='geocoder'></div>
                </div>
            </div>
          </div>

          <div class="container" id="colourStrip">
            <div class="row">
              <div class="pinkBar"></div>
              <div class="burgandyBar"></div>
              <div class="greenBar"><div>
            </div>
          </div>

        </nav>

        <button id='fly'>Fly</button>

        <div id='map'></div>

        <script>
        mapboxgl.accessToken = "pk.eyJ1IjoianB0ZWFtMjAiLCJhIjoiY2syZ284bzBmMGY2dDNnbnRnZWVtc2c4aCJ9.HMxC94EADkEu4WNGoX19sQ"; // Insert key here

        var bounds = [
            [-10.805600498547392, 49.77170915956208], // Southwest coordinates
            [2.2150631938233403, 61.27107631078121]  // Northeast coordinates
        ];

        var map = new mapboxgl.Map({
        container: 'map', // container id
        style: 'mapbox://styles/jpteam20/ck2glv7x715f71cppul7sjmga', // stylesheet location
        center: [-3.186788617357422,  55.501168313478786], // starting position [lng, lat]
        zoom: 5, // starting zoom
        pitch: 0, // pitch in degrees
        bearing: -0, // bearing in degrees
        maxZoom: 12, // Max zoom value
        attributionControl: false
        });

        var geocoder = new MapboxGeocoder({
        accessToken: mapboxgl.accessToken,
        mapboxgl: mapboxgl,
        marker: {
            color: '#e4018b'
        },
        flyTo: {
            bearing: 0,
            // These options control the flight curve, making it move
            // slowly and zoom out almost completely before starting
            // to pan.
            speed: 1, // make the flying slow
            curve: 0.5, // change the speed at which it zooms out
            // This can be any easing function: it takes a number between
            // 0 and 1 and returns another number between 0 and 1.
            easing: function (t) { return t; }
        },
        getZoom: 7
        });

        document.getElementById('geocoder').appendChild(geocoder.onAdd(map));

        document.getElementById('fly').addEventListener('click', function () {
            // Fly to a random location by offsetting the point -74.50, 40
            // by up to 5 degrees.
            map.flyTo({
                center: [
                    -3.186788617357422,  55.501168313478786
                ]
            });
        });

        var nav = new mapboxgl.NavigationControl();
        map.addControl(nav, 'bottom-right');

        </script>
        <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.12.0.min.js"></script>
        <script>
        if($(window).width() <= 768){
        map.addControl(new MapboxGeocoder({
          accessToken: mapboxgl.accessToken,
          mapboxgl: mapboxgl
        }));}
        </script>

        <script type="text/javascript" src="logic.js"></script>

    </body>
</html>
